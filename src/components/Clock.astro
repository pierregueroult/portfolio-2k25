---
const clockContent: string = new Date().toLocaleTimeString("en-GB");
const datetimeContent: string = new Date().toISOString();
---

<time data-clock datetime={datetimeContent}>
  {clockContent}
</time>

<script>
  document.addEventListener("astro:page-load", () => {
    const clock = document.querySelector("[data-clock]");
    const updateClock = () => {
      if (!clock) return;
      const date = new Date();
      clock.textContent = date.toLocaleTimeString("en-GB");
      clock.setAttribute("datetime", date.toISOString());
      setTimeout(updateClock, 1000);
    };
    updateClock();
  });
</script>
