---
import type { CollectionEntry } from "astro:content";

interface Props {
  work: CollectionEntry<"works">;
}
const { work } = Astro.props;
---

{
  "role" in work.data ? (
    <li class="mt-4">
      <h3 class="text-sm lowercase">
        Looking for {work.data.role} near {work.data.place}
      </h3>
    </li>
  ) : (
    <li class="mt-4">
      <h3 class="text-lg">{work.data.place}</h3>
      <ul>
        {work.data.works.map((item) => (
          <li class="mt-2 first-of-type:mt-1">
            <div class="text-foreground/70 text-sm">
              <h4 class="inline-block">- {item.role}</h4>
              <p class="lowercase inline-block ml-[1ch]">
                <span>(From</span>{" "}
                <date>{item.period[0].toLocaleDateString("en-US", { month: "long", year: "numeric" })}</date>{" "}
                <span>to</span>{" "}
                <date>
                  {item.period[1] === "now"
                    ? "right now"
                    : item.period[1].toLocaleDateString("en-US", { month: "long", year: "numeric" })}
                </date>
                <span>)</span>
              </p>
            </div>
            <p class="text-sm">{item.description}</p>
          </li>
        ))}
      </ul>
    </li>
  )
}
