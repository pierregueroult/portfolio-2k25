---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";
import ListLayout from "../layouts/ListLayout.astro";
import WithTitleLayout from "../layouts/WithTitleLayout.astro";
import SocialItem from "../components/items/SocialItem.astro";

const allSocials = await getCollection("socials");

const featured = allSocials.filter((social) => social.data.isFeatured);
const socials = allSocials.filter((social) => !social.data.isFeatured);
---

<Layout
  title="Connect with Me"
  description="Find and follow me across social media and professional networks. Stay updated on my latest projects, blog posts, and tech insights."
  keywords={[
    "Pierre GuÃ©roult",
    "social links",
    "follow me",
    "developer social media",
    "connect",
    "tech network",
    "portfolio",
    "web developer",
    "CS student",
  ]}
>
  <WithTitleLayout
    title="My Socials - Let's Stay Connected"
    subtitle="Find me on social and professional platforms to follow my projects and connect over web development and automation."
  >
    <ListLayout title="Featured">
      {
        featured.map((social) => (
          <SocialItem link={social.data.link} title={social.data.title} description={social.data.description} />
        ))
      }
    </ListLayout>
    <ListLayout title="Socials Links">
      {
        socials.map((social) => (
          <SocialItem link={social.data.link} title={social.data.title} description={social.data.description} />
        ))
      }
    </ListLayout>
  </WithTitleLayout>
</Layout>
